package com.example.advancedwars;

public class GameModel {

    public int[][] map;
    public Troop[][] troops;
    private int turn = 0;

    public GameModel(String selectedMap) {
        initMap(selectedMap);
        initTroops();
    }

    private void initMap(String selectedMap) {
        //Plain: 0, Wood: 1, Mountain: 2, Sea: 3
        switch (selectedMap) {
            case "Little Island":
                map = new int[][] {
                {3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3},
                {3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 0, 1, 0, 0, 0, 1, 3},
                {3, 3, 3, 3, 3, 3, 3, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3},
                {3, 3, 3, 3, 3, 3, 3, 2, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 3},
                {3, 3, 3, 3, 3, 1, 0, 1, 1, 0, 0, 0, 0, 1, 0, 1, 0, 3, 3},
                {3, 3, 1, 0, 0, 0, 1, 0, 0, 0, 1, 1, 1, 0, 3, 3, 3, 3, 3},
                {3, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 2, 3, 3, 3, 3, 3, 3, 3},
                {3, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3, 3, 3, 3, 3, 3, 3, 3},
                {3, 1, 0, 0, 0, 1, 0, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3},
                {3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3}
                };
                break;
            case "Eon Springs":
                map = new int[][]{
                        {1, 0, 0, 0, 1, 0, 0, 0, 0, 0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,1},
                        {0, 0, 0, 0, 3, 3, 2, 1, 0, 0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0 ,0},
                        {0, 0, 0, 0, 3, 3, 3, 1, 0, 0 ,0 ,0 ,1 ,0 ,0 ,0 ,0 ,0 ,1},
                        {0, 0, 1, 3, 3, 3, 3, 3, 1, 1 ,3 ,3 ,0 ,0 ,0 ,1 ,0 ,0 ,0},
                        {3, 0, 3, 3, 3, 3, 3, 3, 3, 3 ,3 ,3 ,2 ,1 ,0 ,0 ,0 ,2 ,0},
                        {0, 0, 0, 0, 1, 3, 3, 3, 3, 3 ,3 ,3 ,3 ,1 ,0 ,1 ,0 ,1 ,0},
                        {0, 0, 0, 0, 3, 3, 0, 0, 3, 3 ,3 ,1 ,0 ,0 ,0 ,0 ,0 ,0 ,0},
                        {0, 0, 0, 0, 0, 3, 0, 0, 3, 3 ,3 ,3 ,0 ,0 ,0 ,0 ,0 ,0 ,0},
                        {0, 0, 0, 0, 0, 0, 0, 3, 3, 3 ,3 ,0 ,0 ,3 ,1 ,0 ,0 ,0 ,0},
                        {0, 2, 0, 0, 1, 1, 3, 3, 3, 3 ,3 ,0 ,0 ,3 ,1 ,0 ,0 ,0 ,0},
                        {0, 0, 0, 0, 0, 1, 3, 3, 3, 3 ,0 ,0 ,3 ,3 ,1 ,0 ,0 ,0 ,0},
                        {0, 0, 0, 1, 0, 1, 3, 3, 3, 3 ,3 ,3 ,3 ,3 ,3 ,3 ,0 ,0 ,2},
                        {2, 0, 0, 0, 0, 0, 2, 1, 3, 3 ,3 ,3 ,3 ,3 ,3 ,3 ,3 ,0 ,3},
                        {0, 1, 0, 0, 1, 0, 0, 0, 0, 1 ,0 ,3 ,3 ,3 ,3 ,3 ,0 ,0 ,0},
                        {0, 0, 0, 0, 0, 0, 1, 0, 0, 0 ,1 ,0 ,3 ,3 ,3 ,3 ,1 ,0 ,0},
                        {1, 0, 0, 0, 0, 0, 1, 1, 0, 0 ,0 ,0 ,1 ,3 ,3 ,0 ,0 ,0 ,0},
                        {1, 0, 0, 0, 0, 0, 0, 0, 0, 0 ,0 ,0 ,0 ,0 ,1 ,0 ,0 ,0 ,1}
                };
                break;
            case "Piston Dam":
                map = new int[][] {
                        {0, 0, 0, 1, 1, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 1, 1, 0, 0, 0},
                        {1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
                        {1, 0, 0, 1, 0, 0, 1, 0, 0, 1, 0, 1, 0, 0, 1, 0, 0, 1, 0, 0, 1, 0, 0, 0, 0, 1},
                        {0, 0, 0, 0, 1, 0, 0, 0, 1, 3, 3, 1, 0, 0, 1, 3, 3, 1, 0, 1, 0, 0, 0, 0, 0, 1},
                        {0, 0, 0, 0, 0, 0, 0, 1, 3, 3, 3, 1, 0, 0, 1, 3, 3, 3, 1, 0, 0, 0, 0, 0, 0, 0},
                        {3, 3, 0, 3, 3, 3, 3, 3, 3, 3, 3, 0, 0, 0, 0, 3, 3, 3, 3, 3, 3, 3, 3, 0, 3, 3},
                        {3, 3, 0, 3, 3, 3, 3, 3, 3, 3, 0, 0, 0, 0, 0, 0, 3, 3, 3, 3, 3, 3, 3, 0, 3, 3},
                        {3, 3, 0, 3, 3, 3, 3, 3, 3, 3, 1, 0, 0, 0, 0, 1, 3, 3, 3, 3, 3, 3, 3, 0, 3, 3},
                        {3, 3, 0, 3, 3, 3, 3, 3, 3, 3, 3, 0, 0, 0, 0, 3, 3, 3, 3, 3, 3, 3, 3, 0, 3, 3},
                        {0, 0, 0, 0, 1, 1, 1, 0, 3, 3, 3, 1, 0, 0, 1, 3, 3, 3, 0, 1, 1, 1, 0, 0, 0, 0},
                        {0, 0, 0, 0, 0, 0, 0, 0, 0, 3, 3, 1, 0, 0, 1, 3, 3, 0, 1, 0, 0, 0, 0, 0, 0, 0},
                        {1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 1, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1},
                        {1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1},
                        {0, 0, 0, 1, 1, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 1, 1, 0, 0, 0},
                };
                break;
        }
    }

    private void initTroops() {
        troops = new Troop[map.length][map[0].length];
        Troop t1 = new Infantry(1);
        t1.xpos = 2;
        t1.ypos = 8;
        troops[8][2] = t1;
    }

    private void switchTurn() {
        turn = (turn == 0) ? 1 : 0;
    }

    // Methode zum Bewegen der Truppe
    protected void moveTroop(Troop troop, int x, int y) {

        troops[troop.ypos][troop.xpos] = null;
        troops[y][x] = troop;
        troop.xpos = x;
        troop.ypos = y;

        System.out.println("Truppe bewegt nach: (" + x + ", " + y + ")");
    }
}
